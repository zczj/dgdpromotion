!function(t){var i=function(i){this.config={width:"auto",height:"auto",message:null,type:"waiting",buttons:null,delay:null,delayCallback:null,maskOpacity:null,maskClose:null,effect:null},i&&t.isPlainObject(i)?t.extend(this.config,i):this.isConfig=!0,this.body=t("body"),this.mask=t('<div class="g-dialog-contianer">'),this.win=t('<div class="dialog-window">'),this.winHeader=t('<div class="dialog-header"></div>'),this.winContent=t('<div class="dialog-content">'),this.winFooter=t('<div class="dialog-footer">'),this.creat()};i.zIndex=1e4,i.prototype={animate:function(){var t=this;this.win.css("-webkit-transform","scale(0,0)"),window.setTimeout(function(){t.win.css("-webkit-transform","scale(1,1)")},100)},creat:function(){var t=this,n=this.config,s=this.mask,a=this.win,e=this.winHeader,o=this.winContent,l=this.winFooter,c=this.body;i.zIndex++,this.mask.css("zIndex",i.zIndex),this.isConfig?(a.append(e.addClass("waiting")),n.effect&&this.animate(),s.append(a),c.append(s)):(e.addClass(n.type),a.append(e),n.message&&a.append(o.html(n.message)),n.buttons&&(console.log("buttons"),this.creatButtons(l,n.buttons),a.append(l)),s.append(a),c.append(s),"auto"!=n.width&&a.width(n.width),"auto"!=n.height&&a.height(n.height),n.maskOpacity&&s.css("backgroundColor","rgba(0,0,0,"+n.maskOpacity+")"),n.delay&&0!=n.delay&&window.setTimeout(function(){t.close(),n.delayCallback&&n.delayCallback()},n.delay),n.effect&&this.animate(),n.maskClose&&s.click(function(){t.close()}))},creatButtons:function(i,n){var s=this;t(n).each(function(n){var a=this.type?" class='"+this.type+"'":"",e=this.text?this.text:"按钮"+ ++n,o=this.callback?this.callback:null,l=t("<button"+a+">"+e+"</button>");o?l.click(function(t){var i=o();t.stopPropagation(),0!=i&&s.close()}):l.click(function(t){t.stopPropagation(),s.close()}),i.append(l)})},close:function(){this.mask.remove()}},window.Dialog=i,t.dialog=function(t){return new i(t)}}(jQuery);